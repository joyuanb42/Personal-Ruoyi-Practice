<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.SupplierInfoMapper">
    
    <resultMap type="SupplierInfo" id="SupplierInfoResult">
        <result property="supplierId"    column="supplier_id"    />
        <result property="supplierName"    column="supplier_name"    />
        <result property="supplierLinkPerson"    column="supplier_link_person"    />
        <result property="supplierPhone"    column="supplier_phone"    />
        <result property="supplierNum"    column="supplier_num"    />
        <result property="bankName"    column="bank_name"    />
        <result property="bankSn"    column="bank_sn"    />
        <result property="supplierAddress"    column="supplier_address"    />
        <result property="supplierState"    column="supplier_state"    />
        <result property="supplierCode"    column="supplier_code"    />
        <result property="supplierIsJoin"    column="supplier_is_join"    />
        <result property="supplierInfo"    column="supplier_info"    />
        <result property="supplierFoundedDate"    column="supplier_founded_date"    />
        <result property="supplierRegisteredCapital"    column="supplier_registered_capital"    />
    </resultMap>

    <sql id="selectSupplierInfoVo">
        select supplier_id, supplier_name, supplier_link_person, supplier_phone, supplier_num, bank_name, bank_sn, supplier_address, supplier_state, supplier_code, supplier_is_join, supplier_info, supplier_founded_date, supplier_registered_capital from fmg_supplier_info
    </sql>

    <select id="selectSupplierInfoList" parameterType="SupplierInfo" resultMap="SupplierInfoResult">
        <include refid="selectSupplierInfoVo"/>
        <where>  
            <if test="supplierName != null  and supplierName != ''"> and supplier_name like concat('%', #{supplierName}, '%')</if>
            <if test="supplierFoundedDate != null "> and supplier_founded_date = #{supplierFoundedDate}</if>
            <if test="supplierRegisteredCapital != null "> and supplier_registered_capital = #{supplierRegisteredCapital}</if>
        </where>
    </select>
    
    <select id="selectSupplierInfoBySupplierId" parameterType="Long" resultMap="SupplierInfoResult">
        <include refid="selectSupplierInfoVo"/>
        where supplier_id = #{supplierId}
    </select>

    <insert id="insertSupplierInfo" parameterType="SupplierInfo" useGeneratedKeys="true" keyProperty="supplierId">
        insert into fmg_supplier_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="supplierName != null">supplier_name,</if>
            <if test="supplierLinkPerson != null">supplier_link_person,</if>
            <if test="supplierPhone != null">supplier_phone,</if>
            <if test="supplierNum != null">supplier_num,</if>
            <if test="bankName != null">bank_name,</if>
            <if test="bankSn != null">bank_sn,</if>
            <if test="supplierAddress != null">supplier_address,</if>
            <if test="supplierState != null">supplier_state,</if>
            <if test="supplierCode != null">supplier_code,</if>
            <if test="supplierIsJoin != null">supplier_is_join,</if>
            <if test="supplierInfo != null">supplier_info,</if>
            <if test="supplierFoundedDate != null">supplier_founded_date,</if>
            <if test="supplierRegisteredCapital != null">supplier_registered_capital,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="supplierName != null">#{supplierName},</if>
            <if test="supplierLinkPerson != null">#{supplierLinkPerson},</if>
            <if test="supplierPhone != null">#{supplierPhone},</if>
            <if test="supplierNum != null">#{supplierNum},</if>
            <if test="bankName != null">#{bankName},</if>
            <if test="bankSn != null">#{bankSn},</if>
            <if test="supplierAddress != null">#{supplierAddress},</if>
            <if test="supplierState != null">#{supplierState},</if>
            <if test="supplierCode != null">#{supplierCode},</if>
            <if test="supplierIsJoin != null">#{supplierIsJoin},</if>
            <if test="supplierInfo != null">#{supplierInfo},</if>
            <if test="supplierFoundedDate != null">#{supplierFoundedDate},</if>
            <if test="supplierRegisteredCapital != null">#{supplierRegisteredCapital},</if>
         </trim>
    </insert>

    <update id="updateSupplierInfo" parameterType="SupplierInfo">
        update fmg_supplier_info
        <trim prefix="SET" suffixOverrides=",">
            <if test="supplierName != null">supplier_name = #{supplierName},</if>
            <if test="supplierLinkPerson != null">supplier_link_person = #{supplierLinkPerson},</if>
            <if test="supplierPhone != null">supplier_phone = #{supplierPhone},</if>
            <if test="supplierNum != null">supplier_num = #{supplierNum},</if>
            <if test="bankName != null">bank_name = #{bankName},</if>
            <if test="bankSn != null">bank_sn = #{bankSn},</if>
            <if test="supplierAddress != null">supplier_address = #{supplierAddress},</if>
            <if test="supplierState != null">supplier_state = #{supplierState},</if>
            <if test="supplierCode != null">supplier_code = #{supplierCode},</if>
            <if test="supplierIsJoin != null">supplier_is_join = #{supplierIsJoin},</if>
            <if test="supplierInfo != null">supplier_info = #{supplierInfo},</if>
            <if test="supplierFoundedDate != null">supplier_founded_date = #{supplierFoundedDate},</if>
            <if test="supplierRegisteredCapital != null">supplier_registered_capital = #{supplierRegisteredCapital},</if>
        </trim>
        where supplier_id = #{supplierId}
    </update>

    <delete id="deleteSupplierInfoBySupplierId" parameterType="Long">
        delete from fmg_supplier_info where supplier_id = #{supplierId}
    </delete>

    <delete id="deleteSupplierInfoBySupplierIds" parameterType="String">
        delete from fmg_supplier_info where supplier_id in 
        <foreach item="supplierId" collection="array" open="(" separator="," close=")">
            #{supplierId}
        </foreach>
    </delete>
</mapper>